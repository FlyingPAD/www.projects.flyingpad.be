<div class="container">
  <div *ngIf="!selectedPet" class="center-content">
    <p>Select your virtual pet</p>
    <div class="selection">
      <div *ngFor="let pet of pets" class="pet-container">
        <img [src]="'assets/virtual_pet/' + pet.type.toLowerCase() + '.png'" alt="" (click)="selectPet(pet.type)" class="pet-selection-image" (error)="onImageError($event, pet)">
        <div class="pet-type">{{ pet.type }}</div>
      </div>
    </div>
  </div>

  <div *ngIf="selectedPet && !selectedPet.name" class="center-content">
    <img [src]="'assets/virtual_pet/' + selectedPet.type.toLowerCase() + '.png'" alt="Virtual Pet Image" class="pet-image">
    <h1>Name your {{ selectedPet.type }}</h1>
    <input type="text" [(ngModel)]="selectedPet.name">
    <button (click)="setName(selectedPet.name)">Confirm</button>
  </div>

  <div *ngIf="selectedPet && selectedPet.name && selectedPet.hunger < 100 && selectedPet.happiness > 0 && selectedPet.cleanliness > 0" class="center-content">
    <h1>{{ selectedPet.name }}</h1>
    <div class="display">
      <img [src]="'assets/virtual_pet/' + selectedPet.type.toLowerCase() + '.png'" alt="Virtual Pet Image" class="pet-image">
    </div>
    <div class="state">
      <p>🍖 {{ selectedPet.hunger | number : '3.0' }}</p>
      <p>😀 {{ selectedPet.happiness | number : '3.0' }}</p>
      <p>💦 {{ selectedPet.cleanliness | number : '3.0' }}</p>
    </div>
    <div class="buttons">
      <div (click)="feed()">Feed</div>
      <div (click)="play()">Play</div>
      <div (click)="clean()">Clean</div>
    </div>
  </div>

  <div *ngIf="selectedPet && (selectedPet.hunger >= 100 || selectedPet.happiness <= 0 || selectedPet.cleanliness <= 0)" class="center-content">
    <h1>{{ selectedPet.name }} is dead.</h1>
    <img [src]="'assets/virtual_pet/' + selectedPet.type.toLowerCase() + '_dead.png'" alt="Virtual Pet Image" class="pet-image">
    <div class="buttons">
      <div (click)="restart()">Restart</div>
    </div>
  </div>
  
  <div *ngIf="message" class="center-content">
    <p>{{ message }}</p>
  </div>

  <div *ngIf="pets.length" class="center-content">
    <h2>Other Pets</h2>
    <div class="selection">
      <div *ngFor="let pet of pets" class="pet-container">
        <img [src]="'assets/virtual_pet/' + pet.type.toLowerCase() + '.png'" alt="" (click)="selectPet(pet.type)" class="pet-selection-image" (error)="onImageError($event, pet)">
        <div class="pet-type">{{ pet.type }}</div>
      </div>
    </div>
  </div>
</div>
